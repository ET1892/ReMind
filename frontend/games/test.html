<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firebase Score Test</title>
    <script defer src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script defer src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

</head>
<body>

    <h2>Firebase Score Test</h2>
    
    <label for="scoreInput">Enter Score:</label>
    <input type="number" id="scoreInput" placeholder="Enter score">
    <button onclick="pushScore()">Submit Score</button>
    
    <p id="status">Status: Waiting...</p>

    <script>
        // Firebase Configuration 
        const firebaseConfig = {
            apiKey: "AIzaSyA4XFhK_ZPpJFBz8XuYlPmH3DZDMSRYilE",
            authDomain: "remind-75124.firebaseapp.com",
            projectId: "remind-75124",
            storageBucket: "remind-75124.firebasestorage.app",
            messagingSenderId: "358342790086",
            appId: "1:358342790086:web:7d64b01f8f74d86c21c0c7"
        };
    
        // Ensure Firebase initializes properly
        let app;
        if (!firebase.apps.length) {
            app = firebase.initializeApp(firebaseConfig);
        } else {
            app = firebase.app(); // Use existing app instance
        }
    
        const db = firebase.firestore(); // Ensure Firestore is initialized
    
        function pushScore() {
            const userUID = localStorage.getItem("uid");
            const scoreInput = document.getElementById("scoreInput").value;
            const score = scoreInput ? parseInt(scoreInput) : 100;
            const timestamp = new Date().toISOString();
    
            if (!userUID) {
                console.error("No UID found in local storage!");
                document.getElementById("status").innerText = "Status: No UID found in local storage!";
                return;
            }
    
            console.log("Submitting score...", { userUID, score, timestamp });
    
            db.collection("users").doc(userUID).set({
                game: "minesweeper",
                score: score,
                timestamp: timestamp
            })
            .then(() => {
                console.log("Score pushed successfully!");
                document.getElementById("status").innerText = "Status: Score pushed successfully!";
            })
            .catch((error) => {
                console.error("Error pushing score: ", error);
                document.getElementById("status").innerText = "Status: Error pushing score!";
            });
        }
    </script>
    

</body>
</html> -->
